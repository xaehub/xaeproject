<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5ì¡°</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Jua&display=swap');

        * {
            font-family: "Jua", serif;
            font-weight: 400;
            font-style: normal;
        }


        body {
            padding-top: 60px;
            background-color: #eff2f8;
        }

        #header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 45px 60px;
            background-color: white;
            color: #6a75ca;
            font-size: 18px;
            z-index: 10;
        }

        /*íŒ€ ì‚¬ì§„ */
        .pictures {
            display: flex;
            justify-content: center;
            /* ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
            padding: 40px;
            gap: 80px;
            /*íŒ€ì‚¬ì§„ê°„ì˜ ê°„ê²©*/
        }

        .profile {
            display: flex;
            /* ê°€ë¡œ ì •ë ¬ */
            flex-direction: column;
           /* ì„¸ë¡œ ì •ë ¬ */
            align-items: center;
           /* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
        }

        .profile img {
            width: 300px;
            height: 350px;
            border-radius: 18%;
            /* ì™„ì „í•œ ì›í˜• */
            object-fit: cover;
            /* ë¹„ìœ¨ ìœ ì§€í•˜ë©° ê½‰ ì±„ìš°ê¸° */
            border: 2px solid #ddd;
            /* í…Œë‘ë¦¬ ì¶”ê°€ */
            transition: transform 0.3s ease-in-out;
            /* í˜¸ë²„ ì‹œ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        }

        .profile img:hover {
            transform: scale(1.1);
            /* í˜¸ë²„ ì‹œ ì´ë¯¸ì§€ í™•ëŒ€ */
            transform: scale(1.1);
            /* í˜¸ë²„ ì‹œ ì´ë¯¸ì§€ í™•ëŒ€ */
        }

        .name {
            text-align: center;
            margin-top: 20px;
            /* ì´ë¯¸ì§€ì™€ ì´ë¦„ ì‚¬ì´ ê°„ê²© */
        }

        /*íŒ€ ì´ë¦„*/
        .teamName {
            text-align: center;
            margin-top: 50px;
            margin-bottom: 70px;
        }

        .teamName h2 {
            font-size: 70px;
            font-weight: bold;
            color: #A593E0;
        }


        .name h5 {
            /* íŒ€ì› ì´ë¦„ */
            margin: 5px 0;
            font-size: 50px;
            color: #A593E0;
        }


        .name .mbti {
            font-size: 25px;
            color: gray;
        }

        /* íŒ€ ê·œì¹™ */
        .teamRule {
            /* articleë¡œ ë¬¶ì–´ ì¹¸ ì „ì²´ ìƒ‰ê¹” ë°”ê¿ˆ */
            background-color: #FFFFF3;
            padding: 150px 150px;
            border-radius: 10px;
            margin-top: 200px;
            /*ìœ„ì— ìš”ì†Œì™€ ê°„ê²© */
        }

        .rule-item {
            margin-bottom: 15px;
            font-size: 30px;
            font-weight: 500;
        }

        .rule-item p {
            margin: 0;
        }

        /*íŒ€ ëª©í‘œ */
        .teamgorl {
            padding: 150px 150px;
            border-radius: 10px;

        }

        .gorl-item {
            margin-bottom: 15px;
            font-size: 30px;
            font-weight: 500;
        }

        .gorl-item p {
            margin: 0;
        }

        /*ë°©ëª…ë¡*/
        .input-container {
            margin: 0px 100px 0px 100px;
            /* ìœ„, ì•„ë˜ 30px | ì¢Œ, ìš° 100px */
            display: flex;
            align-items: start;
            gap: 15px;
            justify-content: start;
        }

        /* ì¸í’‹ ë°•ìŠ¤ë¥¼ ê°ì‹¸ëŠ” div */
        .input-box {
            position: relative;
            /* ìì‹ ìš”ì†Œì˜ ìœ„ì¹˜ë¥¼ ìƒëŒ€ì ìœ¼ë¡œ ì„¤ì • */
            width: 15%;
            /* Name ì…ë ¥ í•„ë“œ */
        }

        .comment-title {
            position: relative;
            /* ìì‹ ìš”ì†Œì˜ ìœ„ì¹˜ë¥¼ ìƒëŒ€ì ìœ¼ë¡œ ì„¤ì • */
            width: 75%;
            /* Comment ì…ë ¥ í•„ë“œ */
        }

        /* ê°œë³„ ëŒ“ê¸€ ë°•ìŠ¤ */
        .comment-box {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 10px;
            background: transparent;
        }

        /* ë¼ë²¨ ìŠ¤íƒ€ì¼ */
        .input-box label,
        .comment-title label {
            font-size: 20px;
            color: #566270;
            font-weight: bold;
            padding-left: 5px;
        }

        /* ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ (ë°‘ì¤„ë§Œ ë³´ì´ë„ë¡) */
        .input-box input,
        .comment-title input {
            width: 100%;
            padding: 5px;
            border: none;
            border-bottom: 2px solid #E0E3DA;
            /* ë°‘ì¤„ë§Œ í‘œì‹œ */
            outline: none;
            font-size: 18px;
            background: transparent;
        }

        /* ë“±ë¡ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .submit-btn {
            padding: 8px 15px;
            /* ìƒí•˜ 8px ì¢Œìš° 15px */
            width: 10%;
            color: white;
            border: none;
            border-radius: 20px;
            background: #A593E0;
            font-size: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease-in-out;
            /* í˜¸ë²„ ì‹œ ë¶€ë“œëŸ½ê²Œ ìƒ‰ìƒ ë³€ê²½ */
        }

        .submit-btn:hover {
            background: #566270;
            /* ì¡°ê¸ˆ ë” ì–´ë‘ìš´ ë³´ë¼ìƒ‰ */
        }

        .commentslist {
            margin: 10px 80px 100px 80px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 2px;
            align-items: flex-end;
            font-size: 30px;
            color: #566270;
        }

        .savedname {
            width: 15%;
            font-size: 30px;
            display: flex;
            color: #A593E0;
            align-items: center;
            justify-content: start;
        }

        .savedcomment {
            width: 65%;
            padding-left: 20px;
            font-size: 30px;
            display: flex;
            align-items: center;
            justify-content: start;
        }

        .saveddate {
            width: 10%;
            font-size: 15px;
            color: #566270;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .deletecomment {
            width: 10%;
            color: rgb(190, 31, 31);
            border: none;
            font-size: 15px;
            align-items: center;
            justify-content: center;
            background: transparent;
        }

        .list-group-item {
            font-size: 30px;
        }

        /*ì¡° ì´ë¦„*/
        @keyframes colorChange {
            0% {
                color: palevioletred;
            }

            25% {
                color: coral;
            }

            50% {
                color: deepskyblue;
            }

            75% {
                color: mediumseagreen;
            }

            100% {
                color: palevioletred;
            }
        }

        .animated-text {
            animation: colorChange 2s infinite;
            /* 2ì´ˆë§ˆë‹¤ ìƒ‰ì´ ë°”ë€œ (ë¬´í•œ ë°˜ë³µ) */
            font-weight: bold;
        }

        /*ìƒë‹¨ ì´ë™ ìŠ¤í¬ë¡¤ ë²„íŠ¼*/
        .btn-moveTop {
            position: fixed;
            right: 60px;
            bottom: 60px;
            width: 65px;
            height: 65px;
            background-color: #A593E0;
            color: white;
            border: none;
            border-radius: 50%;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            font-size: 0;
            /* ë‚´ë¶€ í…ìŠ¤íŠ¸ ìˆ¨ê¸°ê¸° */
        }

        .btn-moveTop::after {
            content: "â–²";
            font-size: 24px;
            color: white;
            position: relative;
            top: -3px;
            /* ìœ„ìª½ìœ¼ë¡œ ì•½ê°„ ì´ë™ */
            left: 1px;
            /* ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì•½ê°„ ì´ë™ */
        }


        .btn-moveTop:hover {
            background-color: #566270;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
            transform: translateY(-5px);
        }

        /* ê¸°ì¡´  ìŠ¤í¬ë¡¤ ë°” ì—†ì• ê¸° */
        body::-webkit-scrollbar {
            display: none;
        }

        /* ìœ„ì— í”„ë¡œê·¸ë ˆìŠ¤ ë°” */
        .bar-bg {
            position: fixed;
            width: 100%;
            height: 5px;
            top: 0;
            left: 0;
            background-color: #dfe2f7;
            z-index: 1000;
        }

        .bar-ing {
            position: absolute;
            height: 5px;
            bottom: 0;
            left: 0;
            background-color: #6a75ca;
        }
    </style>

    <script type="module">
        // Firebase SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { doc, deleteDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { query, orderBy } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";


        // Firebase êµ¬ì„± ì •ë³´ ì„¤ì •
        const firebaseConfig = {
            apiKey: "AIzaSyC_yWpgUZ5IAbaqBQqS5lpxrncqaJHxOTk",
            authDomain: "sparta-3b35c.firebaseapp.com",
            projectId: "sparta-3b35c",
            storageBucket: "sparta-3b35c.firebasestorage.app",
            messagingSenderId: "821288173768",
            appId: "1:821288173768:web:cf10e7700c29e7d872e5fd",
            measurementId: "G-C40QMCEYYJ"
        };

        // Firebase ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        $("#savecomment").click(async function () {
            let name = $('#name').val();
            let comment = $('#comment').val();
            let date = new Date().toISOString();  
            // ISO 8601 í˜•ì‹ìœ¼ë¡œ ë³€í™˜
            // Firestoreì— ë‚ ì§œë¥¼ ì €ì¥í•  ë•Œ ì–¸ì œ ì–´ë””ì„œë“  ì¼ê´€ëœ í˜•ì‹ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©

            if (!name || !comment) {
                alert('ì´ë¦„ê³¼ ëŒ“ê¸€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            let doc = {
                'name': name,
                'comment': comment,
                'date': date
            };
            await addDoc(collection(db, "comments"), doc);
            window.location.reload();
        })

        // orderBy()ëŠ” Firestore(Firebase Firestore)ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥
        // Firebase Firestoreì˜ ì¿¼ë¦¬ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ : Firestoreì—ì„œ ë°ì´í„°ë¥¼ ì •ë ¬í•´ì„œ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©í•˜ëŠ” ì¿¼ë¦¬(Query) ê¸°ëŠ¥
        let q = query(collection(db, "comments"), orderBy("date", "desc")); // ìµœì‹ ìˆœ ì •ë ¬
        let docs = await getDocs(q);

        docs.forEach((doc) => {
            let row = doc.data();
            let docId = doc.id;
            let name = row['name'];
            let comment = row['comment'];
            let date = new Date(row['date']).toLocaleDateString("ko-KR", {
                year: "numeric",
                month: "2-digit",
                day: "2-digit"
            }).replace(/\.$/, ""); // ëì— ìˆëŠ” . ì œê±°
            // date.toLocaleDateString("ko-KR", {...}) ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ dateê°€ Date ê°ì²´ì—¬ì•¼ í•˜ë¯€ë¡œ new Date(date)ë¡œ ë³€í™˜

            let temp_html = `
                <div class="comment-box" id="${docId}">
                    <div class="savedname">${name}</div>
                    <div class="savedcomment">${comment}</div>
                    <div class="saveddate">${date}</div>
                    <button class="deletecomment" data-id="${docId}" id="deletecomment">delete</button>
                </div>
                `;
            $('#commentslist').append(temp_html);
        });
        // $("#deletecomment").click(function() ì•ˆë˜ëŠ” ì´ìœ  : 
        // ì •ì ìœ¼ë¡œ ì¡´ì¬í•˜ëŠ” ìš”ì†Œì—ë§Œ ë™ì‘í•¨. ë™ì ìœ¼ë¡œ ì¶”ê°€ëœ ìš”ì†Œì—ëŠ” ë™ì‘í•˜ì§€ ì•ŠìŒ.(ëŒ“ê¸€ì´ ì¶”ê°€ë˜ëŠ” ê²ƒì€ ë™ì ìœ¼ë¡œ ì¶”ê°€ë˜ëŠ” ê²ƒ)
        // í•´ì„œ, document ì „ì²´ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•˜ì—¬ ë™ì ìœ¼ë¡œ ì¶”ê°€ë˜ëŠ” ìš”ì†Œì—ë„ ë™ì‘í•˜ë„ë¡ í•¨.
        $(document).on("click", ".deletecomment", async function () { 
            let docId = $(this).attr("data-id"); //í´ë¦­í•œ ë¶€ë¶„ì´ .deletecomment ë²„íŠ¼ì˜ data-id ê°’ ê°€ì ¸ì˜¤ê¸°
            // attr() : ì„ íƒí•œ ìš”ì†Œì˜ ì†ì„±ê°’ì„ ê°€ì ¸ì˜¤ê±°ë‚˜ ì†ì„±ê°’ì„ ì„¤ì •í•˜ëŠ” ë©”ì„œë“œ

            if (confirm("ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                await deleteDoc(doc(db, "comments", docId));
                $(`${docId}`).remove();
                window.location.reload();
            }
        })

    </script>
</head>

<body>
    <div class="bar-bg"> 
        <span class="bar-ing"></span>
    </div>
    <script>
        /*ìƒë‹¨ ì´ë™ ìŠ¤í¬ë¡¤ ë°” */
        let moveToTop = function () {
            document.body.scrollIntoView({ behavior: "smooth" });
        };

        /* í”„ë¡œê·¸ë ˆìŠ¤ë°” */
        let scrollTop = 0;
        let bar = document.querySelector(".bar-ing"); // .bar-ing ìš”ì†Œë¥¼ ì°¾ëŠ” ì½”ë“œ

        window.addEventListener("scroll", function () {
            scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            let per = Math.ceil(
                (scrollTop / (document.body.scrollHeight - window.outerHeight)) * 100
            );
            if (bar) {    // í”„ë¡œê·¸ë ˆìŠ¤ë°”ê°€ ìˆìœ¼ë©´ widthê°’ ì£¼ê¸°
                bar.style.width = per + "%";
            }
        }, false);
    </script>
    <div class="teamName">
        <h2>
            <span class="animated-text">Commit5</span>
            <p style="font-size: 65px;">Githubë¥¼ í†µí•´ í˜‘ì—…í•˜ëŠ” 5ì¡°</p>
        </h2>
    </div>

    <header>
        <!-- íŒ€ì› ì‚¬ì§„ ë° ì´ë¦„, MBTI, https://getbootstrap.com/docs/5.3/components/list-group/#flush ë¶€íŠ¸ìŠ¤íŠ¸ë© ì‚¬ìš© -->
        <div class="pictures">
            <div class="profile">
                <img src="https://file.notion.so/f/f/83c75a39-3aba-4ba4-a792-7aefe4b07895/902ba6eb-438e-4d7e-b183-9d2213978698/%EC%B7%A8%EC%97%85%EC%82%AC%EC%A7%84.jpg?table=block&id=19e2dc3e-f514-80a4-bd67-d00d463f05da&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&expirationTimestamp=1739887200000&signature=jm5-oQVjauKcKL7HGsGJeGIbYsECjfdcefdGFadv2rg&downloadName=%EC%B7%A8%EC%97%85%EC%82%AC%EC%A7%84.jpg"
                    alt="ê¹€ë™í¬">
                <div class="name">
                    <h5 class="person-name">ê¹€ë™í¬</h5>
                    <h5 class="mbti">ISTP</h5>
                </div>
            </div>
            <div class="profile">
                <img src="https://teamsparta.notion.site/image/attachment%3A003a8f55-69a0-41b8-8f3f-55d1a52bd872%3AKakaoTalk_20250117_175947148.jpg?table=block&id=b7d8f821-bdec-4e7a-a030-066806d7aa2b&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1280&userId=&cache=v2"
                    alt="ê¹€íƒœì •">
                <div class="name">
                    <h5 class="person-name">ê¹€íƒœì •</h5>
                    <h5 class="mbti">ISFP</h5>
                </div>
            </div>
            <div class="profile">
                <img src="https://teamsparta.notion.site/image/attachment%3A1adc8ee0-979c-460c-9ce0-a1b290ca25c0%3AKakaoTalk_Image_2025-02-18-16-04-35.jpeg?table=block&id=19e2dc3e-f514-80b2-abe6-f3025f743b00&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=1390&userId=&cache=v2"
                    alt="ì´í¬ë§">
                <div class="name">
                    <h5 class="person-name">ì´í¬ë§</h5>
                    <h5 class="mbti">ENFJ</h5>
                </div>
            </div>
            <div class="profile">
                <img src="https://teamsparta.notion.site/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F83c75a39-3aba-4ba4-a792-7aefe4b07895%2Fe8dafe33-cbe4-43cd-ad46-0365fc4eaf94%2Fimage.png?table=block&id=f1b5fb58-0663-44a5-8a51-91edddb138c5&spaceId=83c75a39-3aba-4ba4-a792-7aefe4b07895&width=480&userId=&cache=v2"
                    alt="ë°•ì„ ì˜">
                <div class="name">
                    <h5 class="person-name">ë°•ì„ ì˜</h5>
                    <h5 class="mbti">INFP</h5>
                </div>
            </div>
        </div>
    </header>
    
    <article class="teamRule">
        <h1 style="color:#566270; font-size: 55px; margin-bottom: 20px;">íŒ€ ê·œì¹™</h1>
        <div class="rule-item">
            <p>1. ì‹œê°„ ì•½ì†ì„ ì² ì €íˆ ì§€í‚¤ê² ìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="rule-item">
            <p>2. ì†Œí†µì„ ì¤‘ìš”ì‹œí•˜ë©° ìë¦¬ ë¹„ì›€ì´ë‚˜ ë¬¸ì œê°€ ìƒê¸°ë©´ ë¹ ë¥´ê²Œ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="rule-item">
            <p>3. ì‹¤ìˆ˜ë‚˜ ë¬¸ì œê°€ ìˆì–´ë„ ë‚¨ íƒ“í•˜ì§€ë§ê³  ë¬¸ì œë¥¼ í•´ê²°í•´ë‚˜ê°€ëŠ”ë° ì§‘ì¤‘í•˜ê² ìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="rule-item">
            <p>4. ëŒ€í™”ë¥¼ í•  ë•ŒëŠ” ì¢…ì¢… ìº ë„ í‚¤ê³  í™”ë©´ê³µìœ ë„ ì˜ í•˜ê² ìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="rule-item">
            <p>5. íŒŒì´íŒ…í•˜ê² ìŠµë‹ˆë‹¤!</p>
        </div>
    </article>

    <article class="teamgorl">
        <h1 style="color:#A593E0; font-size: 55px; margin-bottom: 20px;">íŒ€ ëª©í‘œ</h1>
        <div class="gorl-item">
            <p>1. ë§¤ì¼ ì¼ì • ì†Œí™”í•˜ê¸°</p>
        </div>
        <div class="gorl-item">
            <p>2. ë¶€ë„ëŸ¬ì›Œë„ ë¬¼ì–´ë³´ê¸°</p>
        </div>
        <div class="gorl-item">
            <p>3. ì´ë²ˆ í”„ë¡œì íŠ¸ í¬íŠ¸í´ë¦¬ì˜¤ë¡œ ì‚¬ìš©í•˜ê¸°</p>
        </div>
        <div class="gorl-item">
            <p>4. <span style="color:#A593E0">TIL</span> ë‚¨ì€ë‚ ê¹Œì§€ ë§¨ë‚  ì“°ê¸° ğŸ“</p>
        </div>
    </article>

             <!-- ëŒ“ê¸€ ì…ë ¥ ë°•ìŠ¤ -->
    <h1 style="color: #566270; margin: 30px 100px 0px 100px;">COMMENTS</h1>
    <div class="input-container">
           <!-- Name ì…ë ¥ ë°•ìŠ¤ -->
        <div class="input-box">
            <label for="name">name</label>
            <input type="text" id="name">
        </div>

        <!-- Comment ì…ë ¥ ë°•ìŠ¤ -->
        <div class="comment-title">
            <label for="comment">Comment</label>
            <input type="text" id="comment">
        </div>
        <!-- ë“±ë¡ ë²„íŠ¼ -->
        <button class="submit-btn" id="savecomment">ë“±ë¡</button>
    </div>
    <!-- ì—¬ê¸°ì— ëŒ“ê¸€ì´ ì¶”ê°€ -->
    <div class="commentslist" id="commentslist">
        <!-- 
        <div class="savedname">name</div>
        <div class="savedcomment">comment</div>
        <div class="saveddate">date</div>
        <button class="deletecomment" data-id="${docId}" id="deletecomment">delete</button>
        -->
    </div>
    
    <button onclick="moveToTop()" class="btn-moveTop"></button>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>


</body>
</html>